if currentUser==='manager'
  include layout-1
else 
  include layout-2
section.container.py-5
  h2.brand-title.text-center.mb-5 Available Stock
  .card.shadow-lg.p-4
    .table-responsive
      table#stockTable.table.table-striped.table-hover
        thead.table-dark
          tr
            th Image
            th Product Name
            th Category
            th Quantity
            th Unit Price (UGX)
            th Date Added
            th Edit
            th Delete
        tbody
          if stocks.length
            each stock in stocks 
              tr
                td 
                  img(src=stock.image, alt="Stock image" width='100px' height ='100px')
                td #{stock.productName}
                td #{stock.category}
                td #{stock.quantity}
                td #{stock.price}
                td #{moment(stock.dateRecorded).format('DD-MM-YYYY')}
                td 
                  a.btn.btn-sm.btn-warning(href=`/stock/edit-stock/${stock._id}`)
                    i.fas.fa-edit
                    |  Edit
                td 
                  form(action=`/stock/delete-stock/${stock._id}` method='post' onsubmit="return confirm('Are you sure you want to delete this stock item?');")
                    input(type="hidden" name="id" value=stock._id)
                    button.btn.btn-sm.btn-danger(type='submit')
                      i.fas.fa-trash
                      |  Delete
      a.btn.btn-dark.mt-3(href="/stock/register-stock" class="btn btn-primary mt-3")
        i.fas.fa-plus-circle.me-2
        |  Add New Stock

         
//- script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js')
//- > {
  //-   let priceA = parseFloat(a.dataset.price);
  //-   let priceB = parseFloat(b.dataset.price);
  //-   let nameA = a.dataset.name.toLowerCase();
  //-   let nameB = b.dataset.name.toLowerCase();
  //-   if (value === "priceLowHigh") return priceA - priceB;
  //-   if (value === "priceHighLow") return priceB - priceA;
  //-   if (value === "nameAZ") return nameA.localeCompare(nameB);
  //-   if (value === "nameZA") return nameB.localeCompare(nameA);
  //-   return 0;
  //-   });
  //-   // Re-append sorted
  //-   products.forEach((p) => parent.appendChild(p));
  //-   });
  //- script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js')
  //- script(src='/index.js')
